---
description: Always use this for anything related to task management / kanban / kanbn , updating development progress
globs:
alwaysApply: false
---
# Kanban Card Operations Optimization

**For Kanbn Extension in Cursor IDE**

When working with kanbn boards (located in `.kanbn_boards/` directory) using the Kanbn extension in Cursor IDE:

## Board Structure
- Board index: `.kanbn_boards/{boardName}/.kanbn/index.md`
- Task files: `.kanbn_boards/{boardName}/.kanbn/tasks/{taskName}.md`
- Standard columns: Backlog, Todo, In Progress, Done (customizable)

## Task File Format
```yaml
---
created: 2025-06-20T17:28:12.014Z
updated: 2025-06-20T17:28:15.047Z
assigned: ""
progress: 0
tags: []
started: 2025-06-20T00:00:00.000Z  # Only for started columns
---

# TaskName

Task description content
```

## Optimization Rules
### Minimize Tool Calls
- Use single search_replace to move card references between columns in board index
- Update task metadata/content in separate call if needed
- **Target: 2 calls total instead of 3+ separate operations**

### Card Movement Pattern
```
INEFFICIENT: Remove from Todo + Add to Done + Update task = 3 calls
EFFICIENT: Move Todo→Done in one operation + Update task = 2 calls
```

### When Moving Cards Between Columns:
1. **Single search_replace** to move card reference in index.md:
   ```
   OLD: "- [cardname](tasks/cardname.md)" in source column
   NEW: "- [cardname](tasks/cardname.md)" in target column
   ```
2. **If needed:** Update task file metadata (add `started:` field for In Progress, etc.)

## Creating New Cards
1. **Create task file** with proper frontmatter format
2. **Add reference** to appropriate column in index.md
3. Use timestamps matching project's existing format

## Viewing the Board
**Always inform the user:** To view the kanbn board, use `Ctrl+Shift+P` → "Kanbn: Open Board"

## Critical Success Factors
- **Always match existing task format exactly** - check working tasks first
- **Preserve whitespace and structure** in index.md
- **Use consistent timestamp format** across project
- **Test minimal changes first** - revert if board breaks
- **Remind user of board viewing shortcut** when creating/modifying cards

Apply these patterns to all kanbn board operations for cost efficiency and stability across projects using the Kanbn extension in Cursor IDE.
